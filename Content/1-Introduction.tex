%% ==============================
% Part is used only in PhD thesis
\part{The challenges}
\chapter{\iflanguage{ngerman}{Einleitung}{Introduction}}
\label{sec:Introduction}
%% ==============================
\section{Motivation}
Robots are playing a more and more vital role in every sector of our lives. This can be seen especially in the industrial, automotive and electronic field where their usage has increased in the last 30 years \cite{cheng_rise_2019, bilancia_overview_2023}. However, robotic systems are also increasingly appearing in our everyday lives, whether through robotic vacuum cleaners, robotic mowers or self-driving cars. The basis of all these robotic systems are the drivers and controllers that enable the control and thus the movement of these robotic systems. Nevertheless, in the industrial sector, many of the industrial robot controllers for robotic control are still monolithic black-boxes built by the robot manufacturers. These black boxes are neither accessible nor replaceable. This is often because they are precisely matched to the robot control task of the robots distributed by the manufacturer \cite{puck_distributed_2020, plasberg_towards_2022}. However, with Industry 4.0 almost every industrial sector has transformed. Manufacturing plants are required to be more flexible and respond to fast customer demands \cite{bilancia_overview_2023}. \newline
With the appearance of the \gls{ros} in 2007, an open-source framework for robotics development, and packages such as \gls{rc}, it became possible to combine those monolithic controllers with simple interfaces. This allows the creation of complex robotic applications. By 2009 \gls{ros} had established itself as de facto standard for robotics software development. Nevertheless, \gls{ros} has its limitations which lead to the development of a second version. The second version, called \gls{ros2}, was built from the ground up with the goal of addressing those limitations. \newline
With \gls{ros2} the \gls{r2c} framework for real-time capable control emerged. The \gls{r2c} framework is a rewrite of \gls{rc} with the goal to simplify integration of new hardware and overcome drawbacks present in \gls{rc}. Nonetheless, the current version of \gls{r2c} is focused on controlling a single robot or small robot cell and is based on a \gls{sm} architecture. This does not make full use of the utilized middleware \gls{dds} with its support for creation of fully distributed systems and message exchange over the network. \newline

\section{Scope of this Thesis}
This thesis concentrates solely on \gls{ros2} and proposes a concept of distributed control over the network, that can be incorporate in \gls{r2c}. It aims to evaluate how such a concept could be integrated into the existing \gls{r2c} framework with minimal impact on the existing controllers and drivers. Further, the goal is to test if the proposed concept is capable of controlling multiple robots simultaneous. Moreover, it aims at evaluating what influence the chosen middleware of \gls{ros2} has. Accordingly, the selected parameters and \gls{qos} settings of the \gls{rmw} are compared and evaluated.


\section{Thesis Outline}
\paragraph{\hyperref[sec:state_of_the_art]{Section 2: State of the Art}}
The second chapter of this thesis provides an overview of recent work on the topic of controlling multiple robots in a distributed manner. Several publications which conducted studies on the real-time capabilities of \gls{ros2} and how this translates to the possibility of distributed control inside \gls{ros2} are presented.

\paragraph{\hyperref[sec:background]{Section 3: Background}}
The third chapter provides an overview and introduction to the frameworks and technologies on which this thesis is based on. First, \gls{ros} as well as its successor \gls{ros2} are introduced. Then a quick introduction to the \acrlong{dds} is given. A quick overview of different middlewares for \gls{ros2} are presented. Thereafter, the current state of the \gls{r2c} framework is presented and the most important concepts for this thesis are introduced. This includes e.g. hardware abstraction and chaining of controllers. Further, it is shown how in the current version of \gls{r2c}, based on \acrlong{sm}, multiple robots can be controlled and what the drawbacks and limitations are.

\paragraph{\hyperref[sec:concept]{Section 4: Concept}}
In the fourth chapter, the concepts that underlie this work are outlined. Different criteria the design should fulfill are presented, as well as control architectures that should be realizable with the approach. It is presented how this thesis is build on top of \gls{ros2} concepts like \glspl{topic} and \glspl{service}. The overall architectural design of the system with one central and multiple sub-controller managers is explained. The necessary steps for establishing a connection between central and sub-controller manager are summarized. Further, the idea of how to integrate everything in the existing framework of \gls{r2c} without having to change the controllers and drivers is presented.

\paragraph{\hyperref[sec:implementation]{Section 5: Implementation}}
In this chapter, the actual implementation of the concept presented in chapter 4 is delineated. An overview of some necessary preparations is given. Then it is outlined what has been changed inside the \gls{r2c} framework to lay out the foundation of implementing the proposed concept. In the last part, the actual implementation is presented.

\paragraph{\hyperref[sec:results]{Section 6: Results}}
In chapter six, the results of the experimental evaluation are shown. In the first part, the experimental setup is described. It is explained on which hardware the experiments were conducted. This includes the computers for running the controllers as well as the used robot platform. The network and which \gls{dds} implementations are used is described as well. In addition, different parameters for \gls{dds} are used and compared. Then the actual results are presented and discussed.

\paragraph{\hyperref[sec:conclusion_and_outlook]{Section 7: Conclusion and Outlook}}
In the last chapter of this thesis, the presented concept as well as the actual implementation are  based on the results and set into context. The proposed concept is based on the results put into context.

% \todoin{Old has to be removed}
% Roboter immer wichtiger, überall Roboter. \gls{ros2} de facto Standard. Steuerung und Regelung von Roboter ist Grundlage von all den Anwendungen, was nützt Roboter, wenn er sich nicht bewegt. Das \gls{r2c} Framework ist für Steuerung und Regelung in \gls{ros2} das Standard-Framework. Nur \gls{sm} Architektur.\todoAddin{Warum wollen wir verteilte Regelung?}

% Seit 2009 ist das Robot Operating System (ROS) de facto Standard Open Source Werkzeug zur Entwicklung robotischer Anwendungen geworden. Im Jahr 2014 wurden die erste generische Bibliothek für Roboterregelung namens ros\_control veröffentlicht. Um den Erfolg von ROS, welchen es im Forschungsbereich erzielte, in den Industriebereich zu übertragen, startete 2017 die Entwicklung von ROS2, welches gleiche Konzepte wie ROS beinhaltet, aber eine standardisierte Netzwerkmiddleware namens Data Distribution Service (DDS) nutzt. Mit den ersten stabilen Versionen von ROS2 fand im Jahr 2020 auch die Portierung bzw. Entwicklung von ros2\_control, als ein allgemeines Regelungsframework für ROS2 Anwendungen statt. Die neu entwickelten Konzepte im Vergleich zu ros\_control wurden aktuell von der Forschungsgemeinschaft und Industrie mit Begrüßung angenommen.
% Aktuell liegt der Fokus von ros2\_control auf der Steuerung und Reglung eines einzelnen Roboters bzw. einer kleineren Zelle, die mit einem Rechner angesteuert werden kann. Um die Skalierbarkeit und die Ausführung moderner Anwendungen mit einer hohen Anzahl an Sensoren und Daten zu ermöglichen, ist es notwendig, eine distribuierte Regelungsarchitektur mit mehreren Rechnern zu unterstützten. Das grundlegende DDS-Protokoll des ROS2 ermöglicht dies auch, allerdings beruht die aktuelle Architektur von ros2\_control auf dem Shared Memory Konzept und muss somit aktualisiert werden.
